{"code":"// @ts-nocheck\nimport { Plugin, Notice, PluginSettingTab, Setting, normalizePath } from 'obsidian';\nimport fs from 'fs';\nimport path from 'path';\nimport { spawn } from 'child_process';\n// Custom logger with levels\nclass Logger {\n    static debug(message, ...args) {\n        if (Logger.level <= Logger.DEBUG) {\n            console.debug(`[${Logger.prefix}] ${message}`, ...args);\n        }\n    }\n    static info(message, ...args) {\n        if (Logger.level <= Logger.INFO) {\n            console.info(`[${Logger.prefix}] ${message}`, ...args);\n        }\n    }\n    static warn(message, ...args) {\n        if (Logger.level <= Logger.WARN) {\n            console.warn(`[${Logger.prefix}] ${message}`, ...args);\n        }\n    }\n    static error(message, ...args) {\n        if (Logger.level <= Logger.ERROR) {\n            console.error(`[${Logger.prefix}] ${message}`, ...args);\n        }\n    }\n}\nLogger.DEBUG = 0;\nLogger.INFO = 1;\nLogger.WARN = 2;\nLogger.ERROR = 3;\nLogger.level = Logger.DEBUG; // Set minimum log level\nLogger.prefix = \"EditNext\";\nconst DEFAULT_SETTINGS = {\n    openaiApiKey: '',\n    pythonPath: 'python3',\n    weights: [0.6, 0.2, 0.2],\n    model: 'gpt-4o-mini',\n    targetFolder: '',\n};\n// --------------------------------------------------\n// Helper to run external python process\n// --------------------------------------------------\nasync function runRanker(app, settings) {\n    return new Promise((resolve, reject) => {\n        // Determine folder absolute path\n        const vaultPath = app.vault.adapter.getBasePath();\n        const targetDir = settings.targetFolder\n            ? path.join(vaultPath, normalizePath(settings.targetFolder))\n            : vaultPath;\n        Logger.debug(\"Running ranker with settings:\", settings);\n        Logger.debug(\"Target directory:\", targetDir);\n        // Ensure directory exists\n        if (!fs.existsSync(targetDir)) {\n            const error = `Target directory not found: ${targetDir}`;\n            Logger.error(error);\n            reject(new Error(error));\n            return;\n        }\n        // Compose command\n        const scriptPath = path.join(__dirname, '..', '..', 'editnext', 'essay-quality-ranker.py');\n        Logger.debug(\"Script path:\", scriptPath);\n        // Check if script exists\n        if (!fs.existsSync(scriptPath)) {\n            const error = `Script not found: ${scriptPath}`;\n            Logger.error(error);\n            reject(new Error(error));\n            return;\n        }\n        const cmdArgs = [\n            scriptPath,\n            targetDir,\n            '--weights',\n            ...settings.weights.map((w) => w.toString()),\n            '--model',\n            settings.model,\n        ];\n        Logger.debug(\"Command:\", settings.pythonPath, cmdArgs.join(' '));\n        // Provide environment\n        const env = { ...process.env, OPENAI_API_KEY: settings.openaiApiKey };\n        Logger.debug(\"API key set:\", !!settings.openaiApiKey);\n        // Spawn child process\n        try {\n            const child = spawn(settings.pythonPath, cmdArgs, { env });\n            let output = '';\n            let errorOutput = '';\n            child.stdout.on('data', (data) => {\n                const chunk = data.toString();\n                Logger.debug(`Python stdout: ${chunk}`);\n                output += chunk;\n            });\n            child.stderr.on('data', (data) => {\n                const chunk = data.toString();\n                Logger.error(`Python stderr: ${chunk}`);\n                errorOutput += chunk;\n            });\n            child.on('error', (err) => {\n                Logger.error(\"Process error:\", err);\n                reject(err);\n            });\n            child.on('close', (code) => {\n                Logger.debug(`Process exited with code ${code}`);\n                if (code === 0) {\n                    resolve(output);\n                }\n                else {\n                    const error = `Process exited with code ${code}${errorOutput ? ': ' + errorOutput : ''}`;\n                    Logger.error(error);\n                    reject(new Error(error));\n                }\n            });\n        }\n        catch (err) {\n            Logger.error(\"Failed to spawn process:\", err);\n            reject(err);\n        }\n    });\n}\n// --------------------------------------------------\n// Plugin implementation\n// --------------------------------------------------\nexport default class EditNextPlugin extends Plugin {\n    constructor() {\n        super(...arguments);\n        this.settings = DEFAULT_SETTINGS;\n    }\n    async onload() {\n        Logger.info('Loading EditNext Ranker plugin');\n        try {\n            // Log plugin details\n            Logger.debug(\"Plugin directory:\", this.manifest.dir);\n            Logger.debug(\"Plugin version:\", this.manifest.version);\n            await this.loadSettings();\n            Logger.debug(\"Settings loaded:\", this.settings);\n            // Register command\n            // @ts-ignore\n            this.addCommand({\n                id: 'editnext-rank-files',\n                name: 'Rank files by editing effort',\n                callback: async () => {\n                    Logger.info('Running EditNext ranker command...');\n                    new Notice('Running EditNext ranker...');\n                    try {\n                        const result = await runRanker(this.app, this.settings);\n                        Logger.debug(\"Ranker completed successfully\");\n                        // Show output in a new pane\n                        // @ts-ignore\n                        const leaf = this.app.workspace.getLeaf(true);\n                        await leaf.open(new EditNextResultView(leaf, result));\n                    }\n                    catch (err) {\n                        const errorMsg = err.message;\n                        Logger.error(\"Ranker error:\", err);\n                        new Notice(`EditNext error: ${errorMsg}`);\n                    }\n                },\n            });\n            // Add settings tab\n            // @ts-ignore\n            this.addSettingTab(new EditNextSettingTab(this.app, this));\n            Logger.info('EditNext Ranker plugin loaded successfully');\n        }\n        catch (err) {\n            Logger.error(\"Error during plugin load:\", err);\n            throw err; // Re-throw to let Obsidian handle it\n        }\n    }\n    onunload() {\n        Logger.info('Unloading EditNext Ranker plugin');\n    }\n    async loadSettings() {\n        try {\n            const savedData = await this.loadData();\n            Logger.debug(\"Loaded saved data:\", savedData);\n            this.settings = Object.assign({}, DEFAULT_SETTINGS, savedData);\n        }\n        catch (err) {\n            Logger.error(\"Failed to load settings:\", err);\n            this.settings = { ...DEFAULT_SETTINGS };\n        }\n    }\n    async saveSettings() {\n        try {\n            await this.saveData(this.settings);\n            Logger.debug(\"Settings saved successfully\");\n        }\n        catch (err) {\n            Logger.error(\"Failed to save settings:\", err);\n        }\n    }\n}\n// --------------------------------------------------\n// View to display results (simple markdown view)\n// --------------------------------------------------\nimport { ItemView } from 'obsidian';\nconst VIEW_TYPE = 'editnext-results';\nclass EditNextResultView extends ItemView {\n    constructor(leaf, text) {\n        super(leaf);\n        this.resultText = text;\n    }\n    getViewType() {\n        return VIEW_TYPE;\n    }\n    getDisplayText() {\n        return 'EditNext Results';\n    }\n    async onOpen() {\n        const container = this.containerEl.children[1];\n        container.empty();\n        const pre = container.createEl('pre');\n        pre.style.whiteSpace = 'pre-wrap';\n        pre.setText(this.resultText);\n    }\n    async onClose() { }\n}\n// --------------------------------------------------\n// Settings Tab UI\n// --------------------------------------------------\nclass EditNextSettingTab extends PluginSettingTab {\n    constructor(app, plugin) {\n        super(app, plugin);\n        this.plugin = plugin;\n        Logger.debug(\"Settings tab initialized\");\n    }\n    display() {\n        const { containerEl } = this;\n        Logger.debug(\"Settings tab displayed\");\n        containerEl.empty();\n        containerEl.createEl('h2', { text: 'EditNext Ranker Settings' });\n        new Setting(containerEl)\n            .setName('OpenAI API Key')\n            .setDesc('Required to query GPT models')\n            .addText((text) => text\n            .setPlaceholder('sk-XXXX')\n            .setValue(this.plugin.settings.openaiApiKey)\n            .onChange(async (value) => {\n            this.plugin.settings.openaiApiKey = value.trim();\n            await this.plugin.saveSettings();\n        }));\n        new Setting(containerEl)\n            .setName('Python Path')\n            .setDesc('Path to Python executable (with dependencies installed)')\n            .addText((text) => text\n            .setPlaceholder('python3')\n            .setValue(this.plugin.settings.pythonPath)\n            .onChange(async (value) => {\n            this.plugin.settings.pythonPath = value.trim() || 'python3';\n            await this.plugin.saveSettings();\n        }));\n        new Setting(containerEl)\n            .setName('Weights')\n            .setDesc('Three numbers for LLM, Grammar, Readability weights (sum 1.0)')\n            .addText((text) => text\n            .setPlaceholder('0.6 0.2 0.2')\n            .setValue(this.plugin.settings.weights.join(' '))\n            .onChange(async (value) => {\n            const parts = value.split(/\\s+/).map(Number);\n            if (parts.length === 3 && parts.every((n) => !isNaN(n))) {\n                this.plugin.settings.weights = parts;\n                await this.plugin.saveSettings();\n            }\n        }));\n        new Setting(containerEl)\n            .setName('OpenAI Model')\n            .setDesc('Model to use for scoring')\n            .addText((text) => text.setPlaceholder('gpt-4o-mini').setValue(this.plugin.settings.model).onChange(async (value) => {\n            this.plugin.settings.model = value.trim();\n            await this.plugin.saveSettings();\n        }));\n        new Setting(containerEl)\n            .setName('Target Folder')\n            .setDesc('Relative path inside vault; leave blank for entire vault')\n            .addText((text) => text\n            .setPlaceholder('drafts')\n            .setValue(this.plugin.settings.targetFolder)\n            .onChange(async (value) => {\n            this.plugin.settings.targetFolder = value.trim();\n            await this.plugin.saveSettings();\n        }));\n    }\n}\n//# sourceMappingURL=main.js.map","references":["/Users/shreyas/Desktop/Projects/editnext-plugin/node_modules/obsidian/obsidian.d.ts","/Users/shreyas/Desktop/Projects/editnext-plugin/node_modules/obsidian/obsidian.d.ts"],"map":"{\"version\":3,\"file\":\"main.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/main.ts\"],\"names\":[],\"mappings\":\"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\"}"}
